version: '3'
services:
  backend:
    build: 
      dockerfile: ./backend/Dockerfile
      context: .
    volumes:
      - ./backend/.dockervenv:/src/.venv
      - ./backend:/src
    ports:
      - 8000:8000
    platform: linux/amd64
  
  front:
    build: 
      dockerfile: ./front/Dockerfile
      context: .
    ports:
      - '3000:3000'
    volumes:
      - './front:/app'
    command: /bin/sh -c "yarn dev"
    tty: true
    environment:
      - CHOKIDAR_USEPOLLING=true
    stdin_open: true
    # M1Macç”¨
    platform: linux/amd64